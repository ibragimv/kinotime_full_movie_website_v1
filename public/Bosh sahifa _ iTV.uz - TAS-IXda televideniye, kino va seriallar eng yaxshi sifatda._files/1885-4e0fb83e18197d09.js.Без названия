"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1885],{63503:function(e,t,n){var r,i=n(67294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none"},e),r||(r=i.createElement("path",{d:"M8.125 10c0 1.034.841 1.875 1.875 1.875A1.877 1.877 0 0011.875 10 1.877 1.877 0 0010 8.125 1.877 1.877 0 008.125 10zM8.125 16.25c0 1.034.841 1.875 1.875 1.875a1.877 1.877 0 001.875-1.875A1.877 1.877 0 0010 14.375a1.877 1.877 0 00-1.875 1.875zM8.125 3.75c0 1.034.841 1.875 1.875 1.875a1.877 1.877 0 001.875-1.875A1.877 1.877 0 0010 1.875 1.877 1.877 0 008.125 3.75z",fill:"#fff"})))}},66060:function(e,t,n){var r,i=n(67294);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.906 4.37c.324 0 .594.268.594.61v.318c0 .334-.27.611-.594.611H3.095a.608.608 0 01-.595-.611V4.98c0-.343.27-.612.595-.612h2.43c.493 0 .923-.35 1.034-.846l.127-.568c.198-.774.849-1.288 1.593-1.288h3.442c.736 0 1.394.514 1.585 1.247l.136.609c.11.495.54.846 1.034.846h2.43zM15.67 15.944c.254-2.364.698-7.98.698-8.037a.62.62 0 00-.15-.465.605.605 0 00-.437-.195H4.224a.589.589 0 00-.436.195.659.659 0 00-.16.465c.002.01.018.208.045.539.118 1.47.448 5.562.66 7.498.152 1.427 1.088 2.323 2.444 2.356 1.046.024 2.124.032 3.226.032 1.038 0 2.093-.008 3.171-.032 1.403-.024 2.338-.905 2.497-2.356z",fill:"#fff"})))}},12716:function(e,t){t.Z={src:"/_next/static/media/actor-placeholder.5fef2018.jpg",height:259,width:198,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgABgMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABgEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAIsJ/8QAHhAAAQQBBQAAAAAAAAAAAAAAAgEEBSIAERQVMWL/2gAIAQEAAT8AecaMbHE0IzfX3QKJinnRSrXquf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Af//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Af//Z",blurWidth:6,blurHeight:8}},95712:function(e,t,n){n.d(t,{w:function(){return s}});var r=n(47568),i=n(70655),o=n(12927),s={fetchInfo:function(){var e=(0,r.Z)((function(e){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,o.Mb)("cards/pieces/people/person-info",{params:{personId:e}})];case 1:return[2,t.sent().data]}}))}));return function(t){return e.apply(this,arguments)}}(),fetchCards:function(){var e=(0,r.Z)((function(e){var t,n,r,s,a,l,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=e.personId,n=e.personType,r=e.itemsPerPage,s=e.page,[4,(0,o.Mb)("cards/pieces/people/person-movies",{params:{personId:t,personType:n,itemsPerPage:r,page:s}})];case 1:return a=i.sent(),l=a.data,c=a.meta,[2,{data:l,meta:c}]}}))}));return function(t){return e.apply(this,arguments)}}()}},61281:function(e,t,n){n.d(t,{u:function(){return C},d:function(){return S.d}});var r,i,o=n(14924),s=n(85893),a=n(30702),l=n(67294),c=n(90948),u=n(15861),d=n(82163),p=n(90566),h=n(15216),m=n(42407),f=n(47921),x=n(26042),v=n(69396),g=n(99534),w=n(99226);function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}var y=function(e){return l.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",width:38,height:26,viewBox:"0 0 38 26",fill:"none"},e),r||(r=l.createElement("g",{clipPath:"url(#rating-itv_svg__clip0_2652_22040)",fill:"currentColor"},l.createElement("path",{d:"M5.149 5.595a2.375 2.375 0 100-4.751 2.375 2.375 0 000 4.75zM33.65 6.951l-4.75 8.142-4.75-8.142H19.4l7.125 12.893h4.75L38.4 6.951h-4.75zM.398 6.951v4.751a2.37 2.37 0 012.37 2.37v5.769h4.755v-5.765A7.133 7.133 0 00.398 6.95zM21.186 15.094h-4.499a2.37 2.37 0 01-2.37-2.37v-1.017h5l-2.63-4.756h-2.37V3.216h-4.74v9.505a7.133 7.133 0 007.124 7.124h7.124l-2.64-4.75z"}))),i||(i=l.createElement("defs",null,l.createElement("clipPath",{id:"rating-itv_svg__clip0_2652_22040"},l.createElement("path",{fill:"currentColor",d:"M0 0h38v26H0z"})))))},b=(0,c.ZP)("span")({fontSize:18,fontWeight:600,lineHeight:"24px"}),Z=(0,c.ZP)(w.Z)({display:"flex",alignItems:"center",justifyContent:"center",gap:8,position:"absolute",top:"15px",left:"15px"}),I=function(e){var t=e.value,n=(0,g.Z)(e,["value"]);return(0,s.jsxs)(Z,(0,v.Z)((0,x.Z)({},n),{children:[(0,s.jsx)(y,{}),(0,s.jsx)(b,{children:t.toFixed(1)})]}))};var P=n(25103),A=(0,c.ZP)("div")((function(e){var t=e.theme;return(0,o.Z)({position:"absolute",left:"15px",bottom:"18px",maxWidth:"80%",fontWeight:500,fontSize:"13px",p:{lineHeight:1.2}},t.breakpoints.up("sm"),{fontSize:"16px"})})),C=function(e){var t=e.movie,n=void 0===t?{}:t,r=e.as,i=void 0===r?m.h$:r,o=e.utmSource,l=e.onClick,c=void 0===l?function(){}:l,x=n.movieId,v=n.movieTitle,g=n.movieLabel,w=n.year,j=n.rates,y=(void 0===j?{}:j).itv,b=n.params,Z=void 0===b?{}:b,C=Z.isNew,S=Z.isTvShow,k=Z.isPremier,T=Z.ageLimit,F=n.paymentParams,R=(void 0===F?{}:F).paymentType,E=n.qualities,z=n.countries,O=n.genres,M=n.slug,B=n.files,D=(void 0===B?{}:B).posterUrl,L=(0,d.X)(),W=L.ref,Q=L.isHovered,q=(0,a.$G)("common",{keyPrefix:"movie-card"}).t,H=z.map((function(e){return e.countryName})).join(", "),U=O.map((function(e){return e.genreName})).join(", "),N="/detail/".concat(x,"/").concat(M)+(o?"?utm_source=".concat(o):"");return(0,s.jsxs)(p.Zb,{ref:W,as:i,href:N,onClick:c,children:[(0,s.jsx)(p.Q3,{src:D,alt:v,isVisible:S&&!Q}),(0,s.jsxs)(p.xu,{isHovered:Q,src:D,alt:v,aspectRatio:23/33,hasErrorHandler:!0,placeholderImage:P.Z.src,children:[(0,s.jsx)(p.NP,{age:T,sx:{position:"absolute",right:"10px",bottom:"10px"}}),(0,s.jsx)(f.l,{qualities:E,isNew:C,isPremier:k}),(0,s.jsx)(h.Z,{provider:g}),Q&&(0,s.jsxs)(p.ZL,{isVisible:Q,children:[(0,s.jsx)(p.o1,{size:"70px"}),y&&(0,s.jsx)(I,{value:y}),(0,s.jsxs)(A,{children:[(w||H)&&(0,s.jsx)(u.Z,{noWrap:!0,title:H,children:[w,H].filter(Boolean).join(", ")}),U&&(0,s.jsx)(u.Z,{noWrap:!0,title:U,children:U})]})]})]}),(0,s.jsx)(p.ll,{children:v}),"free"===R&&(0,s.jsx)(p.tg,{children:q("free")}),"tariff"===R&&(0,s.jsx)(p.tg,{sx:{color:"green3"},children:q("subs")}),("content"===R||"file"===R)&&(0,s.jsx)(p.tg,{sx:{color:"yellow1"},children:q("buy")})]})};var S=n(46436)},9699:function(e,t,n){n.d(t,{t:function(){return h}});var r=n(26042),i=n(69396),o=n(99534),s=n(85893),a=n(90948),l=n(15054),c=n(41796),u=n(75861),d=n(51034),p=(0,a.ZP)(l.Z,{shouldForwardProp:function(e){return"align"!==e}})((function(e){var t=e.theme;return{display:"flex",backfaceVisibility:"hidden",".MuiPagination-ul":{flexWrap:"nowrap",overflowX:"auto"},".MuiPaginationItem-ellipsis":{pointerEvents:"none"},".MuiPaginationItem-root":{fontSize:14,padding:"10px 15px",color:(0,c.Fq)(t.palette.white,.5),backgroundColor:(0,c.Fq)(t.palette.white,.02),border:"none"},".MuiPaginationItem-previousNext > svg":{width:20,height:20},".MuiPaginationItem-previousNext:not(.Mui-disabled)":{color:t.palette.white},".MuiPaginationItem-root.Mui-selected":{color:t.palette.white,backgroundColor:(0,c.Fq)(t.palette.white,.05)}}}),(0,d.V)("align",{left:{justifyContent:"flexStart"},center:{justifyContent:"center"},right:{justifyContent:"flexEnd"}})),h=function(e){var t=e.align,n=void 0===t?"center":t,a=e.totalPages,l=e.onChange,c=e.shouldScrollTop,d=void 0===c||c,h=(0,o.Z)(e,["align","totalPages","onChange","shouldScrollTop"]);return a<=1?null:(0,s.jsx)(p,(0,i.Z)((0,r.Z)({},h),{align:n,count:a,shape:"rounded",onChange:function(e,t){null!==t&&(d&&(0,u.k)(),l(t))}}))}},99977:function(e,t,n){n.d(t,{S:function(){return c}});var r=n(85893),i=n(90948),o=n(16628),s=n(272),a=n(35866),l=(0,i.ZP)("div")({position:"absolute",top:0,left:0,bottom:0,width:"100%",background:"#000"}),c=function(e){var t=e.isOpen,n=e.loop,i=void 0===n||n,c=e.trailerUrl,u=e.trailerTimestamp,d=e.onTimeUpdate,p=e.onTrailerEnded,h=e.onPrevButtonClick,m=e.onNextButtonClick,f=e.children;return(0,r.jsx)(o.Z,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:500,exit:0},children:(0,r.jsx)(l,{children:(0,r.jsxs)(s.JM,{autoplay:!0,muted:!0,loop:i,videoFit:"cover",sourceType:"file",src:c,playbackStartPosition:u,onTimeUpdate:d,onEnded:p,onPrevButtonClick:h,onNextButtonClick:m,children:[(0,r.jsx)(a.E,{}),f]})})})}},61885:function(e,t,n){n.d(t,{O:function(){return Dr}});var r=n(85893),i=n(67294),o=n(27948),s=n(26042),a=n(99534),l=n(11163),c=n(88767),u=n(89871),d=function(e){var t=(0,l.useRouter)(),n=t.query.movieId,r=(0,c.useQuery)(function(e,t){return["details",String(e),String(t)]}(n,t.locale),(function(){return u.g.fetchMovieDetails({movieId:n})}),(0,s.Z)({staleTime:1/0},e)),i=r.data,o=void 0===i?{}:i,d=(0,a.Z)(r,["data"]);return(0,s.Z)({details:o},d)},p=n(19376),h=n(69396),m=n(828),f=n(57362),x=n(57015),v=n(18172),g=n(23493),w=n.n(g),j=n(66288),y=function(e){var t=e.movieId,n=e.queryKey,r=e.files,o=e.refetch,s=e.producer,a=(0,x.Z)(s),l=(0,c.useQueryClient)(),u=(0,i.useMemo)((function(){var e=function(e,t){l.setQueryData(n,(function(n){return(0,v.ZP)(n,(function(n){return a.current(n,e,t)}))}))};return{updateFeedProgress:e,throttledUpdateFeedProgress:w()(e,1e3)}}),n),d=(0,j.O)().isAuthenticated,p=(0,f.Y)(t).isAvailable;return(0,i.useEffect)((function(){p&&(d?o():r.forEach((function(e){var t=e.fileId;return u.updateFeedProgress(t,{currentTime:0})})))}),[d,p]),u},b=function(e){var t=(0,l.useRouter)().locale,n=(0,f.Y)(e),r=n.isAvailable,i=n.isFetched,o=function(e,t){return["details","files",String(e),t]}(e,t),a=(0,c.useQuery)(o,(function(){return u.g.fetchMovieFiles({movieId:e})}),{staleTime:1/0,enabled:r}),d=a.data,p=void 0===d?{}:d,x=a.isFetched,v=a.refetch,g=p.data,w=void 0===g?[]:g,j=w.length>0,b=(0,m.Z)(w,1)[0],Z=y({movieId:e,queryKey:o,files:w,refetch:v,producer:function(e,t,n){var r=e.indices[t],i=e.data[r];i.lastPosition=n.currentTime,i.fileDuration=Number(n.duration||i.fileDuration)}}).throttledUpdateFeedProgress,I=(w.length>1||!x)&&(r||!i),P=i&&x;return{hasAnyFiles:j,firstFile:b,movieFiles:w,shouldShowFiles:P,shouldRenderFiles:I,throttledUpdateFeedProgress:Z,getMovieFilesProps:function(e){return(0,h.Z)((0,s.Z)({},e),{movieFiles:w,shouldShowFiles:P})}}},Z=n(9984),I=n(16628),P=n(49136),A=n(85518),C=n(93002),S=n(34513),k=function(){var e,t,n=(0,l.useRouter)().query.movieId,r=(0,c.useQuery)(function(e){return["trailers",String(e)]}(n),(function(){return u.g.fetchTrailers({movieId:n})}),{enabled:"mobile"!==A.vO,staleTime:1/0}).data,o=void 0===r?[]:r,s=o.length>0,a=(0,m.Z)((0,C.Z)({isDelayOver:!1,hasBannerImageFaded:!1,shouldShowFullscreenPlayer:!1,currentTrailerIndex:0,currentTrailerTimestamp:0}),2),d=a[0],p=d.isDelayOver,h=d.hasBannerImageFaded,f=d.shouldShowFullscreenPlayer,x=d.currentTrailerIndex,v=d.currentTrailerTimestamp,g=a[1];(0,S.Z)((function(){s&&g({isDelayOver:!0})}),3e3);var w=(0,i.useRef)(0),j=s?null===(e=o[x])||void 0===e||null===(t=e.files)||void 0===t?void 0:t.videoUrl:null;return{shouldShowBackgroundImage:!s||!p,shouldShowBackgroundPlayer:s&&p&&h&&!f,shouldShowFullscreenPlayer:f,shouldPlayCurrentTrailerInLoop:1===o.length,currentTrailerUrl:j,currentTrailerTimestamp:v,handleBannerImageFaded:function(){return g({hasBannerImageFaded:!0})},handleTimeUpdate:function(e){var t=e.currentTime;w.current=t},handleTrailerEnded:function(){g((function(e){return{currentTrailerIndex:(e.currentTrailerIndex+1)%o.length,currentTrailerTimestamp:0}}))},handleFullscreenRequest:function(){g({shouldShowFullscreenPlayer:!0,currentTrailerTimestamp:w.current})},handleFullscreenExit:function(){g({shouldShowFullscreenPlayer:!1,currentTrailerTimestamp:w.current})},handleSwitchToPrevTrailer:function(){g((function(e){var t=e.currentTrailerIndex;return{currentTrailerIndex:Math.abs(t-1)%o.length,currentTrailerTimestamp:0}}))},handleSwitchToNextTrailer:function(){g((function(e){return{currentTrailerIndex:(e.currentTrailerIndex+1)%o.length,currentTrailerTimestamp:0}}))}}},T=n(46907),F=n(99977),R=n(272),E=n(90948),z=n(85694),O=(0,E.ZP)(z.Z)({position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000",".modalRoot":{width:"100%",height:"100%",overflowY:"auto"}},(function(e){return{zIndex:e.theme.zIndex.drawer}})),M=function(){},B=function(e){var t=e.isOpen,n=void 0!==t&&t,i=e.timeout,o=void 0===i?500:i,s=e.children,a=e.onClose,c=void 0===a?M:a,u=(0,l.useRouter)().pathname.includes("/channels/");return(0,r.jsx)(O,{hideBackdrop:!0,closeAfterTransition:!0,open:n,onClose:c,sx:{top:u?70:0},children:(0,r.jsx)(I.Z,{in:n,timeout:o,children:(0,r.jsx)("div",{className:"modalRoot",children:s})})})};var D,L,W=n(78894),Q=n(88023),q=n(41927),H=n(72862),U=n(35995),N=n(92144),_=n(54540),V=n(35866),G=n(17307),K=n(92023),$=n(9777),X=n(49819),J=n(66308),Y=n(98614),ee=n(91583),te=n(74046),ne=n(54393),re=n(5203),ie=n(96307),oe=n(82405),se=n(37802),ae=n(48927),le=n(92966),ce=n(69667),ue=function(e){var t=e.isOpen,n=e.loop,i=void 0===n||n,o=e.shouldHaveControlButtons,s=e.trailerUrl,a=e.onTimeUpdate,l=e.onTrailerEnded,c=e.onFullscreenExit,u=e.onPrevButtonClick,d=e.onNextButtonClick;return(0,r.jsx)(B,{isOpen:t,onClose:c,timeout:{enter:500,exit:0},children:(0,r.jsxs)(R.JM,{autoplay:!0,loop:i,sourceType:"file",src:s,playbackStartPosition:0,onTimeUpdate:a,onEnded:l,mediaSessionControls:{enablePlayingControl:!0,enableSeekControls:!0,enableSwitchControls:!0,onPreviousSwitch:u,onNextSwitch:d},onInitialized:function(e){e.player.requestFullscreen()},plugins:[ce.y,le.n$,(0,le.IN)()],children:[(0,r.jsx)(V.E,{}),(0,r.jsxs)(ae.F,{children:[(0,r.jsx)(Y.f,{children:(0,r.jsx)(W.m,{children:(0,r.jsx)(Q.m,{onClose:c})})}),(0,r.jsxs)(N.E,{children:[(0,r.jsxs)(G.t,{children:[o&&(0,r.jsx)(X.a,{onClick:u}),(0,r.jsx)(ne.d,{}),(0,r.jsx)(oe.f,{size:"big"}),(0,r.jsx)(re.n,{}),o&&(0,r.jsx)(K.V,{onClick:d})]}),(0,r.jsxs)(q.B,{children:[(0,r.jsx)(U.d,{children:(0,r.jsx)(J.E,{})}),(0,r.jsxs)(H.p,{align:"left",children:[(0,r.jsx)(te.R,{}),(0,r.jsx)(ee.O,{})]}),(0,r.jsxs)(H.p,{align:"center",children:[(0,r.jsx)(ne.d,{}),o&&(0,r.jsx)(X.a,{onClick:u}),(0,r.jsx)(oe.f,{}),o&&(0,r.jsx)(K.V,{onClick:d}),(0,r.jsx)(re.n,{})]}),(0,r.jsxs)(H.p,{align:"right",children:[(0,r.jsx)(ie.j,{}),(0,r.jsx)(se.R,{}),(0,r.jsx)($._,{}),(0,r.jsx)(_.E,{})]})]})]})]})]})})},de=n(14924);function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pe.apply(this,arguments)}var he={amediateka:function(e){return i.createElement("svg",pe({width:60,height:60,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),D||(D=i.createElement("rect",{width:60,height:60,rx:5,fill:"#fff"})),L||(L=i.createElement("path",{d:"M33.65 14L16.738 46.4h7.23l2.23-4.272h14.887l2.264 4.273h7.229L33.65 14zm-4.537 22.547l4.48-8.585 4.544 8.585h-9.024zM28.858 16.176L13.074 46.4l1.474.008 15.05-28.822-.74-1.411zM24.79 19.779L10.885 46.4H9.41l14.64-28.034.74 1.412z",fill:"#000"})))}},me=(0,E.ZP)("picture")((function(e){var t=e.theme;return(0,de.Z)({position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end",filter:"blur(5px)"},t.breakpoints.up("sm"),{filter:"blur(15px)"})})),fe=(0,E.ZP)("img")((function(){return{width:"100%",height:"100%",objectFit:"cover"}})),xe=(0,E.ZP)("div")((function(e){var t=e.theme;return(0,de.Z)({position:"absolute",top:"100px",right:0,marginRight:"24px",zIndex:1},t.breakpoints.down("sm"),{top:"80px",width:"45px",height:"45px",marginRight:"16px"})})),ve=(0,i.forwardRef)((function(e,t){var n=e.files,i=void 0===n?{}:n,l=(0,a.Z)(e,["files"]),c=i.posterUrl,u=d().details.movieLabel,p=he[u];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(me,(0,h.Z)((0,s.Z)({ref:t},l),{children:(0,r.jsx)(fe,{src:c,alt:"Banner"})})),p?(0,r.jsx)(o.Z,{fixed:!0,maxWidth:"lg",sx:{position:"relative"},children:(0,r.jsx)(xe,(0,s.Z)({as:p},l))}):null]})})),ge=function(e){var t=e.hasWatchButton,n=e.onWatchButtonClick,i=d().details,o=i.moduleId,s=i.movieId,a=i.movieTitle,l=i.movieTitleOriginal,p=i.movieDuration,h=i.params,m=i.files,x=i.rates,v=i.shareUrl,g=i.publishTime,w=m.iconUrl,y=h.isPremier,b=k(),Z=b.shouldShowBackgroundImage,A=b.shouldShowBackgroundPlayer,C=b.shouldShowFullscreenPlayer,S=b.shouldPlayCurrentTrailerInLoop,R=b.currentTrailerUrl,E=b.currentTrailerTimestamp,z=b.handleBannerImageFaded,O=b.handleTimeUpdate,M=b.handleTrailerEnded,B=b.handleFullscreenRequest,D=b.handleFullscreenExit,L=b.handleSwitchToPrevTrailer,W=b.handleSwitchToNextTrailer,Q=(0,f.Y)(s).isAvailable,q=(0,j.O)().isAuthenticated,H=function(e){var t=(0,j.O)().isAuthenticated;return(0,c.useQuery)({queryKey:["last-watched-position",e],queryFn:function(){return u.g.fetchLastWatchedPosition({movieId:e})},enabled:Boolean(e)&&t,refetchOnWindowFocus:!1}).data}(s),U=(0,P.J)();return(0,r.jsxs)(T.Zr,{children:[(0,r.jsx)(T.r8,{}),(0,r.jsx)(I.Z,{appear:!1,in:Z,timeout:2e3,onExited:z,children:(0,r.jsx)(ve,{files:m})}),(0,r.jsx)(F.S,{isOpen:A,loop:S,trailerUrl:R,trailerTimestamp:E,onTimeUpdate:O,onTrailerEnded:M}),(0,r.jsx)(ue,{isOpen:C,loop:S,shouldHaveControlButtons:!S,trailerUrl:R,trailerTimestamp:E,onTimeUpdate:O,onTrailerEnded:M,onFullscreenExit:D,onPrevButtonClick:L,onNextButtonClick:W}),(0,r.jsx)(T.J_,{isPremier:y,iconUrl:w,hasWatchButton:t&&Q,hasFavoriteButton:q&&Q,hasFullscreenButton:A,moduleId:o,movieId:s,movieTitle:a,movieTitleOriginal:l,rates:x,linkToResource:U,movieDuration:p,publishTime:g,shareUrl:v,lastWatchedPosition:H,onWatchButtonClick:n,onFullscreenButtonClick:B})]})};var we,je,ye=n(86886),be=n(30702),Ze=n(25617),Ie=n(41796),Pe=n(5304),Ae=n(82163),Ce=n(91308),Se=function(e){var t=e.fileId,n=e.movieId,r=e.seconds,i=e.invalidateQuery,o=(0,c.useQueryClient)(),s=(0,c.useMutation)((function(){return Ce.W.saveLastViewedPosition({fileId:t,movieId:n,seconds:r})}),{onSuccess:function(){o.invalidateQueries(i)}}),a=s.isLoading,l=s.mutate,u=(0,c.useMutation)((function(){return Ce.W.removeFromHistory({fileId:t})}),{onSuccess:function(){o.invalidateQueries(i)}}),d=u.isLoading;return{isSavedLastViewedPosition:a,saveLastViewedPosition:l,removeFromHistory:u.mutate,isHistoryItemRemoving:d}},ke=n(67731),Te=n(3069),Fe=n(90566),Re=n(97087);function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}var ze=function(e){return i.createElement("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),we||(we=i.createElement("path",{d:"M12 5c-5.444 0-8.469 4.234-9.544 6.116-.221.386-.331.58-.32.868.013.288.143.476.402.852C3.818 14.693 7.294 19 12 19c4.706 0 8.182-4.306 9.462-6.164.26-.376.39-.564.401-.852.012-.288-.098-.482-.319-.868C20.47 9.234 17.444 5 12 5z",stroke:"#fff",strokeWidth:2})),je||(je=i.createElement("circle",{cx:12,cy:12,r:4,fill:"#fff"})))},Oe=n(63503),Me=n(66060),Be=(0,E.ZP)("div")((function(){return{position:"relative"}})),De=(0,E.ZP)(Fe.Zb)({width:"100%",border:"none",background:"none",textAlign:"left",cursor:"pointer"}),Le=(0,E.ZP)(ke.C)({position:"absolute",top:8,left:8}),We=(0,E.ZP)(Te.hU)((function(e){var t=e.theme;return{position:"absolute",right:10,top:10,fontWeight:500,fontSize:"13px",background:(0,Ie.Fq)(t.palette.grey2,.8),zIndex:1e3}})),Qe=(0,E.ZP)("li")((function(){return{display:"flex",alignItems:"center",gap:8}})),qe=function(e){var t=e.file,n=void 0===t?{}:t,i=(0,a.Z)(e,["file"]),o=(0,l.useRouter)().query.movieId,c=(0,be.$G)(["library"]).t,u=(0,Re.H9)(),d=u.isOpen,p=u.anchorEl,m=u.open,f=u.close,x=(0,Ae.X)(),v=x.ref,g=x.isHovered,w=(0,j.O)().isAuthenticated,y=(0,Ze.v9)(Pe.ZS),b=n.qualityLabel,Z=n.fileDuration,I=n.lastPosition,P=n.fileId,A=n.files,C=(void 0===A?{}:A).imageUrl,S=I&&Z?I/Z*100:0,k=Se({fileId:P,movieId:o,seconds:Z,invalidateQuery:["files",o]}),T=k.saveLastViewedPosition,F=k.removeFromHistory,R=P===y;return(0,r.jsxs)(Be,{children:[w&&(0,r.jsx)(We,{onClick:m,shape:"circle",size:"middle",icon:(0,r.jsx)(Oe.Z,{})}),(0,r.jsx)(De,(0,h.Z)((0,s.Z)({ref:v,as:Te.Xd,enableRipple:!1,enableFocusRipple:!1},i),{children:(0,r.jsxs)(Fe.xu,{isHovered:g,aspectRatio:640/360,src:C,alt:b,hasErrorHandler:!0,children:[(0,r.jsx)(Le,{children:b.toUpperCase()}),w&&S&&(0,r.jsx)(Fe.Ex,{value:S}),(0,r.jsx)(Fe.ZL,{isVisible:g||R,children:(0,r.jsx)(Fe.o1,{})})]})})),(0,r.jsxs)(Re.HB,{open:d,anchorEl:p,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},pointer:"right",MenuListProps:{component:"div",onClick:f},sx:{marginTop:"30px"},children:[I>0&&(0,r.jsx)(Re.sN,{onClick:F,children:(0,r.jsxs)(Qe,{children:[(0,r.jsx)(Me.Z,{}),c("history.remove-from-history")]})}),100!==S&&(0,r.jsx)(Re.sN,{onClick:T,children:(0,r.jsxs)(Qe,{children:[(0,r.jsx)(ze,{width:18,height:18}),c("history.already-watched")]})})]})]})},He=n(88078),Ue=n(55403),Ne=function(){return(0,r.jsx)(Fe.Zb,{as:"div",children:(0,r.jsx)(Ue.U,{aspectRatio:640/360,children:(0,r.jsx)(He.Z,{sx:{borderRadius:"12px"},variant:"rectangular",width:"100%",height:"100%"})})})},_e=function(e){var t,n=e.movieFiles,i=e.shouldShowFiles,s=e.onPlayerOpen;return(0,r.jsx)(o.Z,{fixed:!0,maxWidth:"xl",children:(0,r.jsx)(ye.ZP,{container:!0,spacing:2,sx:{mb:{xs:"24px",sm:"40px"}},children:i?n.map((function(e){return(0,r.jsx)(ye.ZP,{item:!0,xs:6,md:4,lg:3,xl:2,children:(0,r.jsx)(qe,{file:e,onClick:(t=e.fileId,function(){return null===s||void 0===s?void 0:s(t)})})},e.fileId);var t})):(t=n.length||2,Array.from({length:t},(function(e,t){return(0,r.jsx)(ye.ZP,{item:!0,xs:6,md:4,lg:3,xl:2,children:(0,r.jsx)(Ne,{})},t)})))})})},Ve=function(e){var t=e.moduleId,n=e.movieId,o=e.paymentModuleId,a=e.paymentType,c=(0,l.useRouter)().query.fileId,u=b(n),d=u.hasAnyFiles,h=u.shouldRenderFiles,m=u.firstFile,f=u.getMovieFilesProps,x=u.throttledUpdateFeedProgress,v=(0,Z.A6)({playerType:"movie",moduleId:t,movieId:n,paymentType:a,paymentModuleId:o,updateFeedProgress:x}),g=v.isOpen,w=v.open,j=v.getContentPlayerProp;(0,p.b)((function(){c&&w(c)}),c);return(0,r.jsxs)(i.Fragment,{children:[g&&(0,r.jsx)(Z.tQ,(0,s.Z)({},j())),!g&&(0,r.jsx)(ge,{hasWatchButton:d,onWatchButtonClick:function(){return w(m.fileId)}}),h&&(0,r.jsx)(_e,(0,s.Z)({},f({onPlayerOpen:w})))]})};var Ge,Ke=n(19169),$e=n(52486),Xe=n(17563),Je=n(47640),Ye=n(51751),et=function(e,t){(0,l.useRouter)().locale;var n=(0,c.useQuery)(function(e){return["details","seasons",String(e)]}(e),(function(){return u.g.fetchSeasons({movieId:e})}),(0,s.Z)({staleTime:1/0},t)),r=n.data,i=void 0===r?[]:r,o=(0,a.Z)(n,["data"]);return(0,s.Z)({seasons:i},o)},tt=null,nt={xs:4,sm:6,md:8,lg:8,xl:10},rt={page:1,order:"asc",season:"1"},it=function(e){var t=e.movieId,n=e.season,r=e.page,i=e.items,o=e.order;return["episodes",String(t),"season",String(n),"page",String(r),"items",String(i),String(o)]},ot=n(45670),st=n(99226),at=n(9699),lt=n(99573),ct=n(47568),ut=n(70655),dt=n(18596),pt=n(64635),ht=function(e){var t=e.open,n=e.onClose,i=function(e){var t=e.queryKey,n=e.movieId,r=(0,c.useQueryClient)(),i=function(){var e=(0,ct.Z)((function(){var e,i,o,s=arguments;return(0,ut.__generator)(this,(function(a){switch(a.label){case 0:e=s.length>0&&void 0!==s[0]?s[0]:{},i=e.onHistoryRemoved,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Ce.W.clearHistory({movieId:n})];case 2:return a.sent(),r.invalidateQueries(t),null===i||void 0===i||i(),[3,4];case 3:return o=a.sent(),console.error(o),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return{clearViewsHistory:i}}({movieId:e.movieId,queryKey:e.queryKey}).clearViewsHistory,o=(0,be.$G)("library").t;return(0,r.jsxs)(pt.M,{open:t,size:"large",onClose:n,children:[(0,r.jsx)(pt.J,{align:"center",sx:{mb:5},children:o("history.removal-confirmation-drawer.title")}),(0,r.jsx)(dt.tQ,{variant:"warning",sx:{mb:3},children:o("history.removal-confirmation-drawer.warning")}),(0,r.jsxs)(ye.ZP,{container:!0,spacing:2,sx:{mb:3},children:[(0,r.jsx)(ye.ZP,{item:!0,xs:12,sm:!0,children:(0,r.jsx)(Te.zx,{block:!0,variant:"secondary",onClick:n,"aria-label":o("history.removal-confirmation-drawer.no-button"),children:o("history.removal-confirmation-drawer.no-button")})}),(0,r.jsx)(ye.ZP,{item:!0,xs:12,sm:!0,children:(0,r.jsx)(Te.zx,{block:!0,variant:"secondary",onClick:function(){i({onHistoryRemoved:n})},"aria-label":o("history.removal-confirmation-drawer.yes-button"),children:o("history.removal-confirmation-drawer.yes-button")})})]})]})},mt=function(){return(0,r.jsxs)(Fe.Zb,{as:"div",children:[(0,r.jsx)(Ue.U,{aspectRatio:640/360,children:(0,r.jsx)(He.Z,{sx:{borderRadius:"12px"},variant:"rectangular",width:"100%",height:"100%"})}),(0,r.jsx)(Fe.ll,{children:(0,r.jsx)(He.Z,{sx:{width:"80%"}})}),(0,r.jsx)(Fe.tg,{children:(0,r.jsx)(He.Z,{sx:{width:"40%"}})})]})},ft=n(15861),xt=n(32912),vt=n(71806),gt=n(51342),wt=n(83975),jt=n(8455),yt=n(13292),bt=(0,E.ZP)(Fe.Zb)({display:"block",width:"100%",border:"none",background:"none",textAlign:"left",cursor:"pointer"}),Zt=(0,E.ZP)("span")((function(e){return{color:e.theme.palette.white,fontWeight:600,fontSize:15,position:"absolute",top:16,left:16}})),It=(0,E.ZP)(Te.hU)((function(e){var t=e.theme;return{position:"absolute",right:10,top:10,fontWeight:500,fontSize:"13px",background:(0,Ie.Fq)(t.palette.grey2,.8),zIndex:200}})),Pt=(0,E.ZP)("div")((function(){return{position:"relative"}})),At=(0,E.ZP)("li")((function(){return{display:"flex",alignItems:"center",gap:8}})),Ct=(0,E.ZP)("div")((function(e){e.theme;return{textAlign:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1}})),St=(0,E.ZP)("div")((function(e){return{color:e.theme.palette.white,fontWeight:600,fontSize:15,position:"absolute",bottom:10,right:10}})),kt=(0,E.ZP)("div",{shouldForwardProp:function(e){return"isPublished"!==e}})((function(e){var t=e.theme,n=e.isPublished;return(0,h.Z)((0,s.Z)({position:"absolute",top:5,right:0,left:0,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:18},n&&{top:0,right:0,left:0,bottom:0,backgroundColor:(0,Ie.Fq)(t.palette.black,.6)}),{span:{marginTop:3},svg:{color:t.palette.green3}})})),Tt={ru:vt.Z,uz:gt.Z,en:wt.Z},Ft=function(e){var t=e.file,n=void 0===t?{}:t,o=e.queryKey,c=void 0===o?[]:o,u=e.posterUrl,d=(0,a.Z)(e,["file","queryKey","posterUrl"]),p=(0,l.useRouter)(),m=p.query.movieId,f=p.locale,x=(0,Re.H9)(),v=x.isOpen,g=x.anchorEl,w=x.open,y=x.close,b=(0,Ae.X)(),Z=b.ref,I=b.isHovered,P=(0,j.O)().isAuthenticated,A=(0,be.$G)(["detail","common"]).t,C=(0,Ze.v9)(Pe.ZS),S=n.fileId,k=n.episodeTitle,T=n.episodeNumber,F=n.fileDuration,R=n.lastPosition,E=n.files,z=(void 0===E?{}:E).imageUrl,O=n.publishTime,M=n.params,B=void 0===M?{}:M,D=(0,i.useState)(1e3*O<Date.now()),L=D[0],W=D[1],Q=Se({fileId:S,movieId:m,seconds:F,invalidateQuery:c}),q=Q.saveLastViewedPosition,H=Q.removeFromHistory,U=R&&F?R/F*100:0,N=(0,jt.Wo)(F,["minutes"]).minutes,_=S===Number(C),V=B.isFree,G=void 0!==V&&V;return(0,i.useEffect)((function(){if(1e3*O-Date.now()>0&&!L){var e=setInterval((function(){Date.now()/1e3-O>0&&(W(!0),clearInterval(e))}),6e4);return function(){return clearInterval(e)}}}),[]),(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(Pt,{children:[P&&L&&(0,r.jsx)(It,{onClick:w,shape:"circle",size:"middle",icon:(0,r.jsx)(Oe.Z,{})}),(0,r.jsxs)(bt,(0,h.Z)((0,s.Z)({ref:Z,as:Te.Xd,enableRipple:!1,enableFocusRipple:!1},d),{onClick:L?d.onClick:function(){return null},children:[(0,r.jsxs)(Fe.xu,{isHovered:I,aspectRatio:640/360,src:L?z:u,alt:k,hasErrorHandler:!0,imageStyles:{position:"relative",filter:!L&&"grayscale(10%) brightness(75%) blur(3px)"},children:[G?(0,r.jsxs)(kt,{isPublished:L,children:[(0,r.jsx)(yt.Z,{}),(0,r.jsx)("span",{children:A("filter.free",{ns:"common"})})]}):null,!L&&(0,r.jsxs)(Ct,{children:[(0,r.jsx)("span",{style:{fontWeight:600,fontSize:"54px"},children:(0,xt.Z)(1e3*O,"dd")}),(0,r.jsx)(ft.Z,{sx:{fontWeight:600,fontSize:"12px"},children:(0,xt.Z)(1e3*O,"MMMM",{locale:Tt[f]})})]}),!L&&(0,r.jsx)(St,{children:(0,xt.Z)(1e3*O,"HH:mm")}),P&&U&&L&&(0,r.jsx)(Fe.Ex,{progress:U}),(0,r.jsxs)(Fe.ZL,{isVisible:(I||_)&&L,children:[(0,r.jsx)(Zt,{children:"".concat(N," ").concat(A("episodes.mins"))}),(0,r.jsx)(Fe.o1,{})]})]}),(0,r.jsx)(Fe.ll,{children:"".concat(A("episodes.episode")," ").concat(T)}),(0,r.jsx)(Fe.tg,{sx:function(e){return{color:(0,Ie.Fq)(e.palette.white,.5)}},children:k})]})),(0,r.jsxs)(Re.HB,{open:v,anchorEl:g,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},pointer:"right",MenuListProps:{component:"div",onClick:y},sx:{marginTop:"30px"},children:[R>0&&(0,r.jsx)(Re.sN,{onClick:H,children:(0,r.jsxs)(At,{children:[(0,r.jsx)(Me.Z,{}),A("history.remove-from-history",{ns:"library"})]})}),100!==U&&(0,r.jsx)(Re.sN,{onClick:q,children:(0,r.jsxs)(At,{children:[(0,r.jsx)(ze,{width:18,height:18}),A("history.already-watched",{ns:"library"})]})})]})]})})};function Rt(){return Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rt.apply(this,arguments)}var Et,zt=function(e){return i.createElement("svg",Rt({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ge||(Ge=i.createElement("path",{d:"M15.443 2.988a.5.5 0 01.78 0l2.294 2.866a.5.5 0 01-.39.813h-.96a.5.5 0 00-.5.5v9a.5.5 0 01-.5.5H15.5a.5.5 0 01-.5-.5v-9a.5.5 0 00-.5-.5h-.96a.5.5 0 01-.39-.813l2.293-2.866zM11.167 15a.5.5 0 01.5.5v.667a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5V15.5A.5.5 0 013 15h8.167zm0-5.833a.5.5 0 01.5.5v.666a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5v-.666a.5.5 0 01.5-.5h8.167zM9.5 3.333a.5.5 0 01.5.5V4.5a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5v-.667a.5.5 0 01.5-.5h6.5z",fill:"#fff"})))};function Ot(){return Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}var Mt=function(e){return i.createElement("svg",Ot({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Et||(Et=i.createElement("path",{d:"M16.167 3.334a.5.5 0 01.5.5v9a.5.5 0 00.5.5h.96a.5.5 0 01.39.812l-2.293 2.867a.5.5 0 01-.781 0l-2.293-2.867a.5.5 0 01.39-.812h.96a.5.5 0 00.5-.5v-9a.5.5 0 01.5-.5h.667zM9.5 15.001a.5.5 0 01.5.5v.666a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5v-.666A.5.5 0 013 15h6.5zm1.667-5.834a.5.5 0 01.5.5v.667a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5v-.667a.5.5 0 01.5-.5h8.167zm0-5.833a.5.5 0 01.5.5v.667a.5.5 0 01-.5.5H3a.5.5 0 01-.5-.5v-.667a.5.5 0 01.5-.5h8.167z",fill:"#fff"})))},Bt={asc:(0,r.jsx)(zt,{}),desc:(0,r.jsx)(Mt,{})},Dt=(0,E.ZP)("div")((function(e){var t=e.theme;return(0,de.Z)({display:"grid",width:"100%",gridTemplateColumns:"min-content auto max-content max-content",columnGap:"16px",marginBottom:"25px",alignItems:"center",position:"relative"},t.breakpoints.down("sm"),{gridTemplateColumns:"1fr min-content max-content",gridTemplateRows:"min-content min-content",columnGap:"8px",marginBottom:"16px",".tabList, .iconButton":{gridRowStart:2}})})),Lt=(0,E.ZP)("span")((function(e){var t=e.theme;return{color:(0,Ie.Fq)(t.palette.white,.5),fontWeight:500}})),Wt=(0,E.ZP)(lt.OK)({borderRadius:12}),Qt=function(e){var t=e>12?12:e;return Array.from({length:t},(function(e,t){return(0,r.jsx)(ye.ZP,{item:!0,xs:6,md:4,lg:3,xl:2,children:(0,r.jsx)(mt,{})},t)}))},qt=function(e){var t=e.currentPage,n=e.currentOrder,a=e.currentSeason,c=e.seasons,u=e.seriesFiles,d=e.totalPages,p=e.itemsPerPage,m=e.shouldShowFiles,f=e.toggleOrder,x=e.changeSeason,v=e.changePage,g=e.onPlayerOpen,w=e.isConfirmationDrawerOpen,j=e.openDrawer,y=e.closeDrawer,b=e.posterUrl,Z=(0,be.$G)(["detail"]).t,I=(0,l.useRouter)(),P=I.query,A=P.movieId,C=P.page,S=it({movieId:A,items:p,order:n,season:a,page:C||t});(0,i.useEffect)((function(){t>d&&v(d)}),[d]);var k="asc"===n?"desc":"asc";return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(o.Z,{fixed:!0,maxWidth:"xl",children:(0,r.jsx)(st.Z,{sx:{marginBottom:{xs:"25px",sm:"40px"}},children:(0,r.jsxs)(ot.ZP,{value:a,children:[(0,r.jsxs)(Dt,{children:[(0,r.jsxs)(Lt,{sx:{alignSelf:"center"},children:[Z("episodes.seasons"),":"]}),(0,r.jsx)(lt.td,{className:"tabList",onChange:x,children:c.map((function(e){var t=e.seasonId;return(0,r.jsx)(Wt,{value:t.toString(),label:t},t)}))}),(0,r.jsxs)(st.Z,{children:[(0,r.jsx)(Te.zx,{variant:"secondary",beforeElement:(0,r.jsx)(Me.Z,{}),sx:{display:{xs:"none",lg:"flex"},whiteSpace:"nowrap"},onClick:j,"aria-label":Z("history.clear-history",{ns:"library"}),children:Z("history.clear-history",{ns:"library"})}),(0,r.jsx)(Te.hU,{icon:(0,r.jsx)(Me.Z,{}),variant:"secondary",shape:"square",sx:{display:{xs:"inlineFlex",lg:"none"}},onClick:j})]}),(0,r.jsxs)(st.Z,{children:[(0,r.jsx)(Te.zx,{variant:"secondary",beforeElement:Bt[k],sx:{display:{xs:"none",lg:"flex"},whiteSpace:"nowrap"},onClick:f,"aria-label":Z("episodes.".concat(k)),children:Z("episodes.".concat(k))}),(0,r.jsx)(Te.hU,{icon:Bt[k],variant:"secondary",shape:"square",sx:{display:{xs:"inlineFlex",lg:"none"}},onClick:f})]})]}),c.map((function(e){var n=e.seasonId;return(0,r.jsxs)(lt.x4,{value:n.toString(),children:[(0,r.jsx)(ye.ZP,{container:!0,spacing:2,children:m?u.map((function(e){return(0,r.jsx)(ye.ZP,{item:!0,xs:6,sm:4,md:3,xl:2.4,children:(0,r.jsx)(Ft,{file:e,onClick:(t=e.fileId,function(){g(t),I.replace({query:(0,h.Z)((0,s.Z)({},I.query),{fileId:t})})}),queryKey:S,posterUrl:b})},e.fileId);var t})):Qt(p||8)}),m&&(0,r.jsx)(at.t,{shouldScrollTop:!1,page:t,totalPages:d,sx:{mt:{xs:"16px",sm:"25px"}},onChange:v})]},n)}))]})})}),(0,r.jsx)(ht,{open:w,onClose:y,movieId:A,queryKey:S})]})},Ht=function(e){var t=e.moduleId,n=e.movieId,o=e.paymentModuleId,a=e.paymentType,d=e.posterUrl,h=(0,l.useRouter)().query.fileId,x=(0,Ze.I0)(),v=function(e){var t=(0,f.Y)(e),n=t.isAvailable,r=t.isFetched,o=et(e,{enabled:n}).seasons,a=(0,m.Z)((0,C.Z)(rt),2),d=a[0],h=a[1],x=(0,l.useRouter)(),v=(0,c.useQueryClient)();(0,p.b)((function(){var e=x.query,t=e.order,n=e.seasonId,r=e.page,i=n;if(!i){var s,a=o.find((function(e){return e.seasonId>0}));i=null===a||void 0===a||null===(s=a.seasonId)||void 0===s?void 0:s.toString()}h((function(e){return{order:t||e.order,season:i||e.season,page:Number(r)||e.page}}))}),x.isReady);var g=(0,Je.A)().isClientReady,w=(0,Ye.c)(),j=it({movieId:e,items:tt=g?nt[w]:null,order:d.order,season:d.season,page:d.page}),b=(0,c.useQuery)(j,(function(){return u.g.fetchSeriesFiles({movieId:e,seasonId:d.season,order:d.order,itemsPerPage:tt,page:d.page})}),{enabled:Boolean(tt&&(n||!r)),keepPreviousData:!0,staleTime:1/0}),Z=b.data,I=void 0===Z?{}:Z,P=b.refetch,A=(0,c.useMutation)((function(e){var t=e.movieId;return Ce.W.clearHistory({movieId:t})}),{onSuccess:function(){v.invalidateQueries(j)}}).mutate,S=(0,i.useState)(!1),k=S[0],T=S[1],F=function(){return T(!0)},R=function(){return T(!1)},E=I.seriesFilesData,z=void 0===E?{}:E,O=I.meta,M=void 0===O?{}:O,B=z.data||[],D=B.length>0,L=M.totalPages,W=y({movieId:e,queryKey:j,files:B,refetch:P,producer:function(e,t,n){var r=null===e||void 0===e?void 0:e.seriesFilesData;if(r){var i=r.indices[t],o=r.data[i];o&&(o.lastPosition=n.currentTime,o.fileDuration=Number(n.duration||o.fileDuration))}}}).throttledUpdateFeedProgress,Q=function(e){var t=Xe.parseUrl(x.asPath),n=t.url,r=t.query,i=(0,s.Z)({},r,e);x.replace({pathname:n,query:i},void 0,{scroll:!1})},q=function(e){Q({seasonId:e,page:1}),h({season:e,page:1})},H=function(){h((function(e){var t="asc"===e.order?"desc":"asc";return Q({order:t}),{order:t}}))},U=function(e){Q({page:e}),h({page:e})},N=n||!r,_=r&&B.length>0,V=d.page,G=d.order,K=d.season;return{hasAnyFiles:D,shouldRenderFiles:N,firstSeriesFile:(0,m.Z)(B,1)[0],throttledUpdateFeedProgress:W,getSeriesFilesProps:function(e){return(0,s.Z)({currentPage:V,currentOrder:G,currentSeason:K,seasons:o,seriesFiles:B,totalPages:L,itemsPerPage:tt,shouldShowFiles:_,toggleOrder:H,changeSeason:q,changePage:U,clearHistory:A,isConfirmationDrawerOpen:k,openDrawer:F,closeDrawer:R},e)}}}(n),g=v.hasAnyFiles,w=v.shouldRenderFiles,j=v.firstSeriesFile,b=v.throttledUpdateFeedProgress,I=v.getSeriesFilesProps,P=(0,Z.A6)({playerType:"series",moduleId:t,movieId:n,paymentType:a,paymentModuleId:o,updateFeedProgress:b}),A=P.isOpen,S=P.open,k=P.getContentPlayerProp;(0,p.b)((function(){h&&S(h)}),h),(0,i.useEffect)((function(){x((0,$e.jF)(h))}),[h]);return(0,r.jsxs)(i.Fragment,{children:[A&&(0,r.jsx)(Z.tQ,(0,s.Z)({},k())),!A&&(0,r.jsx)(ge,{hasWatchButton:g,onWatchButtonClick:function(e){var t=e.fileId;return S(t||j.fileId)}}),w&&(0,r.jsx)(qt,(0,s.Z)({posterUrl:d},I({onPlayerOpen:S})))]})};var Ut,Nt=function(){var e=d().details,t=e.moduleId,n=e.movieId,i=e.files.posterUrl,o=e.params.isTvShow,s=e.paymentParams,a=s.paymentModuleId,l=s.paymentType;return(0,r.jsxs)(Ke.tY,{paymentType:l,movieId:n,children:[!o&&(0,r.jsx)(Ve,{moduleId:t,movieId:n,paymentType:l,paymentModuleId:a}),o&&(0,r.jsx)(Ht,{moduleId:t,movieId:n,paymentType:l,paymentModuleId:a,posterUrl:i})]})},_t=n(26447),Vt=n(18127),Gt=n(48286),Kt=n(12927),$t={fetchList:function(){var e=(0,ct.Z)((function(e){var t,n,r,i,o,s;return(0,ut.__generator)(this,(function(a){switch(a.label){case 0:return t=e.movieId,n=e.itemsPerPage,r=e.page,[4,(0,Kt.Mb)("cards/pieces/reviews/list",{params:{movieId:t,itemsPerPage:n,page:r}})];case 1:return i=a.sent(),o=i.data,s=i.meta,[2,{reviews:o,meta:s}]}}))}));return function(t){return e.apply(this,arguments)}}(),fetchMyReview:function(){var e=(0,ct.Z)((function(e){var t;return(0,ut.__generator)(this,(function(n){switch(n.label){case 0:return t=e.movieId,[4,(0,Kt.Mb)("cards/pieces/reviews/my-review",{params:{movieId:t}})];case 1:return[2,n.sent().data]}}))}));return function(t){return e.apply(this,arguments)}}(),addReview:function(){var e=(0,ct.Z)((function(e){var t,n,r;return(0,ut.__generator)(this,(function(i){switch(i.label){case 0:return t=e.movieId,n=e.rate,r=e.comment,[4,Kt.Mb.post("cards/pieces/reviews/add",{movieId:t,rate:n,comment:r})];case 1:return[2,i.sent().data]}}))}));return function(t){return e.apply(this,arguments)}}(),updateReview:function(){var e=(0,ct.Z)((function(e){var t,n,r,i;return(0,ut.__generator)(this,(function(o){switch(o.label){case 0:return t=e.movieId,n=e.rate,r=e.comment,i=e.reviewId,[4,Kt.Mb.post("cards/pieces/reviews/update",{movieId:t,rate:n,comment:r,reviewId:i})];case 1:return[2,o.sent().data]}}))}));return function(t){return e.apply(this,arguments)}}(),deleteReview:function(){var e=(0,ct.Z)((function(e){var t;return(0,ut.__generator)(this,(function(n){switch(n.label){case 0:return t=e.reviewId,[4,Kt.Mb.post("cards/pieces/reviews/delete",{reviewId:t})];case 1:return[2,n.sent().data]}}))}));return function(t){return e.apply(this,arguments)}}()},Xt=n(29815),Jt=n(35151),Yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return["reviews",String(e),String(t)]},en=function(){var e=(0,l.useRouter)().query.movieId,t=(0,i.useState)(1),n=t[0],r=t[1],o=(0,c.useQuery)(Yt(e,n),(function(){return $t.fetchList({movieId:e,itemsPerPage:6,page:n})}),{keepPreviousData:!0,staleTime:6e4}).data,s=void 0===o?{}:o,a=s.reviews,u=void 0===a?[]:a,d=s.meta,p=void 0===d?{}:d,h=(0,Ze.I0)();return{reviews:u,meta:p,page:n,setPage:r,openSignInDrawer:function(){h((0,Jt.Y7)(!0))}}},tn=function(e){return["my-review",String(e)]},nn=function(){var e=(0,c.useQueryClient)(),t=(0,l.useRouter)().query.movieId,n=(0,i.useState)(!1),r=n[0],o=n[1],a=(0,i.useState)(!1),u=a[0],d=a[1],p=(0,j.O)().isAuthenticated,m=(0,c.useQuery)({queryKey:tn(t),queryFn:function(){return $t.fetchMyReview({movieId:t})},staleTime:1/0,enabled:p}).data,f=(0,c.useMutation)((function(e){return $t.addReview((0,s.Z)({movieId:t},e))}),{mutationKey:"add-review",onSuccess:function(n){e.setQueryData(tn(t),n),e.setQueryData(Yt(t,1),(function(e){var t=e.reviews,r=e.meta,i=r.totalItems;return(0,h.Z)((0,s.Z)({},e),{meta:(0,h.Z)((0,s.Z)({},r),{totalItems:i+1}),reviews:[n].concat((0,Xt.Z)(t))})}))}}).mutate,x=(0,c.useMutation)((function(e){return $t.updateReview((0,s.Z)({movieId:t,reviewId:m.reviewId},e))}),{mutationKey:"update-review",onSuccess:function(n){e.setQueryData(tn(t),n),e.setQueriesData(Yt(t),(function(e){var t=e.reviews;return(0,h.Z)((0,s.Z)({},e),{reviews:t.map((function(e){return e.reviewId===m.reviewId?n:e}))})})),o(!1)}}).mutate,v=(0,c.useMutation)((function(){return $t.deleteReview({reviewId:m.reviewId})}),{mutationKey:"delete-review",onSuccess:function(){e.setQueryData(tn(t),null),e.setQueriesData(Yt(t),(function(n){var r=n.reviews,i=n.meta,o=i.totalItems,a=i.itemsPerPage,l=i.totalPages,c=i.currentPage,u=1===r.length?l-1:l;return(0,h.Z)((0,s.Z)({},n),{meta:(0,h.Z)((0,s.Z)({},i),{totalItems:o-1,totalPages:u}),reviews:r.filter((function(n){return n.reviewId!==m.reviewId||(c===l-1&&o-a*c===1&&e.invalidateQueries(Yt(t,c)),!1)}))})})),d(!1)}}),g=v.mutate;return{myReview:m,addReview:f,updateReview:x,deleteReview:g,isEditing:r,setIsEditing:o,isDeleteDrawerOpen:u,setIsDeleteDrawerOpen:d}},rn=n(60250),on=n(61129),sn=n.n(on),an=n(25935),ln=n(89211),cn=function(){var e=(0,m.Z)((0,ln.Z)(!1),2),t=e[0],n=e[1],r=(0,i.useState)(""),o=r[0],s=r[1],a=d().details.snapshots;return{snapshots:void 0===a?[]:a,isLightBoxOpen:t,currentSlide:o,handleSnapshotClick:function(e){n(),s(e)}}},un=n(15216),dn=n(72221),pn=n(23850),hn=n(96910),mn="/_next/static/media/card-placeholder-horizontal.f8786664.png",fn=(0,E.ZP)(hn.t)({width:"100%",height:"100%",overflow:"visible","&.mySwiper":{".swiper-slide":{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"18px",fontSize:"22px",fontWeight:"bold",color:"white"},".swiper-effect-cards":{overflow:"visible"},".swiper-effect-cards .swiper-slide":{transformOrigin:"center bottom",backfaceVisibility:"hidden",overflow:"hidden",transition:"transform 0.5s"},".swiper-effect-cards .swiper-slide-prev, .swiper-effect-cards .swiper-slide-next":{transition:"transform 0.5s"},".swiper-effect-cards .swiper-slide-prev":{transform:"translateX(-10px) translateY(5px) rotateZ(-2deg) !important",zIndex:-1},".swiper-effect-cards .swiper-slide-next":{transform:"translateX(10px) translateY(5px) rotateZ(2deg) !important",zIndex:-1},".swiper-effect-cards .swiper-slide-active":{boxShadow:"0 15px 30px rgba(0, 0, 0, 0.3)"},".swiper-effect-cards .swiper-slide-prev::before":{content:'" "',position:"absolute",top:0,right:-5,width:"10px",height:"100%",backgroundColor:"#ef4444",borderTopRightRadius:"18px",borderBottomRightRadius:"18px",zIndex:-1},".swiper-effect-cards .swiper-slide-next::before":{content:'" "',position:"absolute",top:0,left:-5,width:"10px",height:"100%",backgroundColor:"#22c55e",borderTopLeftRadius:"18px",borderBottomLeftRadius:"18px",zIndex:-1}}}),xn=function(e){var t=e.slides,n=e.onClick;return(0,r.jsx)(fn,{className:"mySwiper",effect:"cards",grabCursor:!0,modules:[pn.c4],children:t.map((function(e,t){return(0,r.jsx)(hn.o,{className:"slide",children:(0,r.jsx)(Fe.xu,{as:"div",className:"snapshot",onClick:function(){return n(e)},aspectRatio:16/9,src:e,alt:"snapshot",hasErrorHandler:!0,placeholderImage:mn})},t)}))})},vn=(0,E.ZP)("div")((function(e){var t,n=e.theme;return t={display:"flex",columnGap:"10px",flexWrap:"wrap",marginBottom:"10px",color:(0,Ie.Fq)(n.palette.white,.5),fontWeight:600,fontSize:"14px",".infoLabel":{color:(0,Ie.Fq)(n.palette.white,.5)}},(0,de.Z)(t,n.breakpoints.up("sm"),{marginBottom:"16px",fontSize:"16px",fontWeight:500}),(0,de.Z)(t,"a:hover",{color:n.palette.white}),t})),gn=(0,E.ZP)("div")((function(e){var t=e.theme;return(0,de.Z)({display:"grid",gridTemplateColumns:"max-content minmax(min-content, max-content)",columnGap:"10px",rowGap:"5px",fontSize:"14px",fontWeight:400,".infoLabel":{color:(0,Ie.Fq)(t.palette.white,.5)}},t.breakpoints.up("sm"),{columnGap:"16px",fontSize:"16px",fontWeight:500})})),wn=function(){var e=(0,be.$G)("detail").t,t=d().details,n=cn(),o=n.isLightBoxOpen,s=n.snapshots,a=n.currentSlide,l=n.handleSnapshotClick,c=t.movieTitle,u=t.movieDescription,p=t.year,h=t.movieDuration,m=t.movieLabel,f=t.files,x=(void 0===f?{}:f).posterUrl,v=t.params,g=(void 0===v?{}:v).ageLimit,w=t.qualities,j=t.languages,y=t.subtitles,b=t.movieBudget,Z=t.movieSlogan,I=t.genres,P=void 0===I?[]:I,A=t.countries,C=void 0===A?[]:A,S=(0,jt.Wo)(60*h,["hours","minutes","seconds"]),k=S.hours,T=S.minutes,F=S.seconds;return(0,r.jsxs)(_t.Z,{direction:{xs:"column",md:"row"},gap:{xs:"10px",md:"20px"},alignItems:"flex-start",children:[(0,r.jsx)(Fe.Zb,{as:"div",sx:{width:{xs:"60%",sm:"250px",xl:"calc((100% - (20px * 5)) / 6)"},flexShrink:0},children:(0,r.jsx)(Fe.xu,{aspectRatio:23/33,alt:c,src:x,hasErrorHandler:!0,children:(0,r.jsx)(un.Z,{provider:m})})}),(0,r.jsxs)(st.Z,{sx:{maxWidth:{lg:"45%"}},children:[(0,r.jsxs)(vn,{children:[h>0&&(0,r.jsxs)(ft.Z,{as:"span",className:"infoLabel",children:[k>0&&e("description-tab.hours",{hours:k})," ",T>0&&e("description-tab.minutes",{minutes:T})," ",F>0&&e("description-tab.seconds",{seconds:F})," "]}),g>0&&(0,r.jsxs)(ft.Z,{as:"span",className:"infoLabel",children:[" ","".concat(g,"+")]}),p&&(0,r.jsx)(ft.Z,{as:"span",className:"infoLabel",children:p}),P.length>0&&P.map((function(e){var t=e.genreId,n=e.genreName;return(0,r.jsx)(ft.Z,{as:"span",className:"infoLabel",children:n},t)})),C.length>0&&C.map((function(e){var t=e.countryId,n=e.countryName;return(0,r.jsx)(ft.Z,{as:"span",className:"infoLabel",children:n},t)}))]}),u&&(0,r.jsx)(ft.Z,{variant:"body2",sx:{fontSize:{xs:"14px",sm:"18px"},fontWeight:{sm:500},lineHeight:1.3,mb:2},children:(0,an.ZP)(u)}),(0,r.jsxs)(gn,{children:[Z&&(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(ft.Z,{as:"span",className:"infoLabel",children:[e("description-tab.slogan"),":"]}),(0,r.jsx)(ft.Z,{as:"span",children:Z})]}),b&&(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(ft.Z,{as:"span",className:"infoLabel",children:[e("description-tab.budget"),":"]}),(0,r.jsx)(ft.Z,{as:"span",children:b})]}),j&&(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(ft.Z,{as:"span",className:"infoLabel",children:[e("description-tab.languages"),":"]}),(0,r.jsx)(ft.Z,{as:"span",children:j})]}),y&&(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(ft.Z,{as:"span",className:"infoLabel",children:[e("description-tab.subtitles"),":"]}),(0,r.jsx)(ft.Z,{as:"span",children:y})]}),w&&(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(ft.Z,{as:"span",className:"infoLabel",children:[e("description-tab.qualities"),":"]}),(0,r.jsx)(ft.Z,{as:"span",children:w})]})]})]}),(0,r.jsxs)(st.Z,{sx:{width:"354px",marginLeft:"auto",display:{xs:"none",lg:"block"}},children:[(0,r.jsx)(dn.X,{as:"h2",level:"3",children:e("snapshots")}),(0,r.jsx)(xn,{slides:s,onClick:function(e){return l(e)}}),(0,r.jsx)(sn(),{type:"image",toggler:o,sources:s,source:a},s)]})]})},jn=n(41609),yn=n.n(jn),bn=n(27361),Zn=n.n(bn),In=n(95712),Pn=n(68426),An=n(30221),Cn=n(12638),Sn=n(2213),kn=n(51351),Tn=n(12716),Fn=(0,E.ZP)(Fe.Zb)({maxWidth:100,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",lineHeight:1.2,transition:"transform 0.3s ease-in-out","&:hover":{transform:"scale(1.1)"}}),Rn=(0,E.ZP)("div",{shouldForwardProp:function(e){return"aspectRatio"!==e}})((function(e){e=null!==e?e:(0,kn.Z)(new TypeError("Cannot destructure undefined"));return{width:100,height:100,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginBottom:"12px",borderRadius:"50%",overflow:"hidden",img:{display:"block",width:"100%",height:"100%",objectFit:"cover",zIndex:1,borderRadius:"50%",overflow:"hidden"}}})),En=(0,E.ZP)("div")((function(e){e=null!==e?e:(0,kn.Z)(new TypeError("Cannot destructure undefined"));return{textAlign:"center"}})),zn=function(e){var t=e.personId,n=e.personName,i=e.personNameOriginal,o=e.files,l=(void 0===o?{}:o).imageUrl,c=e.role,u=(0,a.Z)(e,["personId","personName","personNameOriginal","files","role"]);return(0,r.jsxs)(Fn,(0,h.Z)((0,s.Z)({href:"/person/".concat(t)},u),{children:[(0,r.jsx)(Rn,{aspectRatio:140/220,children:(0,r.jsx)("img",{src:l||Tn.Z.src,alt:i})}),(0,r.jsxs)(En,{children:[(0,r.jsx)(st.Z,{sx:{fontSize:"16px",fontWeight:500},children:n}),(0,r.jsx)(Fe.tg,{sx:{fontSize:"14px"},children:c})]})]}))},On=n(1095),Mn=(0,E.ZP)(An.s6)({".swiper-slide":{width:"auto"}}),Bn=function(){var e=(0,be.$G)("detail",{keyPrefix:"people-tab"}).t,t=d().details,n=t.actors,o=void 0===n?[]:n,a=t.directors,l=void 0===a?[]:a,u=t.scenarists,p=void 0===u?[]:u,h=t.producers,m=void 0===h?[]:h;if([o,l,p,m].every(yn()))return(0,r.jsx)(Sn.V,{imageSrc:On.Z.src,text:e("placeholder"),alt:"Actors and creators placeholder",sx:{paddingTop:{xs:"24px",sm:"40px"},paddingBottom:{xs:"20px",sm:"40px"}},imageWrapperProps:{sx:{width:{xs:"100px",sm:"150px"}},aspectRatio:1}});var f=function(e){if(!e)return[];var t=e.personId,n=(0,c.useQuery)({queryKey:(0,Pn.O)(t),queryFn:function(){return In.w.fetchCards({personId:t,personType:"director",itemsPerPage:10,page:1})},enabled:Boolean(t)}).data,r=void 0===n?{data:[]}:n;return Zn()(r,"data",[])}(l[0]).filter((function(e){return e.movieId!==t.movieId}));return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(Mn,{freeMode:!0,spaceBetween:24,modules:[pn.Rv],breakpoints:null,slidesPerView:"auto",titleProps:{text:e("crew")},children:[o.length>0&&o.map((function(t){return(0,r.jsx)(zn,(0,s.Z)({role:e("actor")},t),t.personId)})),l.length>0&&l.map((function(t){return(0,r.jsx)(zn,(0,s.Z)({role:e("director")},t),t.personId)})),m.length>0&&m.map((function(t){return(0,r.jsx)(zn,(0,s.Z)({role:e("producer")},t),t.personId)})),p.length>0&&p.map((function(t){return(0,r.jsx)(zn,(0,s.Z)({role:e("scenarist")},t),t.personId)}))]}),f.length>0?(0,r.jsx)(Mn,{titleProps:{text:e("other-works")},children:f.filter((function(e){return e.movieId!==t.movieId})).map((function(e){return(0,r.jsx)(Cn.u,{movie:e},e.movieId)}))}):null]})},Dn=n(91440),Ln=n(82580),Wn=n(96486),Qn=n(34730);function qn(){return qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qn.apply(this,arguments)}var Hn,Un=function(e){return i.createElement("svg",qn({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ut||(Ut=i.createElement("path",{d:"M9.153 2.342l1.174 2.346c.16.327.586.64.946.7l2.127.354c1.36.226 1.68 1.213.7 2.186l-1.653 1.654c-.28.28-.434.82-.347 1.206l.473 2.047c.374 1.62-.486 2.247-1.92 1.4l-1.993-1.18c-.36-.213-.953-.213-1.32 0l-1.993 1.18c-1.427.847-2.294.213-1.92-1.4l.473-2.047c.087-.386-.067-.926-.347-1.206L1.9 7.928c-.973-.973-.66-1.96.7-2.186l2.127-.354c.353-.06.78-.373.94-.7L6.84 2.342c.64-1.274 1.68-1.274 2.313 0z",stroke:"#ABABAB",strokeWidth:1.038,strokeLinecap:"round",strokeLinejoin:"round",opacity:.5})))};function Nn(){return Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nn.apply(this,arguments)}var _n,Vn=function(e){return i.createElement("svg",Nn({width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Hn||(Hn=i.createElement("path",{d:"M14.874 3.802l1.907 3.813c.26.531.953 1.04 1.538 1.138l3.456.574c2.21.368 2.73 1.972 1.138 3.553l-2.687 2.687c-.455.455-.704 1.332-.563 1.96l.769 3.326c.606 2.633-.791 3.651-3.12 2.275l-3.24-1.917c-.584-.347-1.549-.347-2.144 0l-3.24 1.918c-2.318 1.375-3.726.346-3.12-2.276l.77-3.325c.14-.629-.109-1.506-.564-1.961L3.087 12.88c-1.581-1.582-1.072-3.185 1.138-3.553l3.456-.574c.574-.098 1.267-.607 1.527-1.138l1.907-3.813c1.04-2.07 2.73-2.07 3.76 0z",fill:"#FDCC0D",stroke:"#FDCC0D",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))},Gn=(0,E.ZP)("div",{shouldForwardProp:function(e){return"isError"!==e}})((function(e){var t,n=e.theme,r=e.isError;return t={display:"grid",gridAutoFlow:"column",gridTemplateRows:"repeat(4, min-content)",marginBottom:"18px",rowGap:"5px"},(0,de.Z)(t,n.breakpoints.up("sm"),{gridTemplateRows:"repeat(2, min-content)",gridTemplateColumns:"repeat(2, max-content)",columnGap:"24px",rowGap:0,marginBottom:"24px"}),(0,de.Z)(t,"span",(0,de.Z)({fontSize:"12px",lineHeight:1,color:(0,Ie.Fq)(n.palette.white,.5)},n.breakpoints.up("sm"),{fontSize:"14px"})),(0,de.Z)(t,".ratingLabel",{color:r?n.palette.red1:(0,Ie.Fq)(n.palette.white,.5)}),t})),Kn=(0,E.ZP)(Dn.Z,{shouldForwardProp:function(e){return"isError"!==e}})((function(e){var t=e.theme;return{".MuiRating-icon svg":(0,de.Z)({width:"22px",height:"22px",marginRight:"2px",marginLeft:"2px"},t.breakpoints.up("sm"),{width:"26px",height:"26px"})}}),(function(e){var t=e.isError,n=e.theme;return t&&{".MuiRating-iconEmpty path":{stroke:n.palette.red1}}})),$n={type:Qn.Nk},Xn=function(){var e=(0,be.$G)("detail").t,t=(0,j.O)().isAuthenticated,n=en().openSignInDrawer,i=nn(),o=i.myReview,s=i.addReview,a=i.updateReview,l=(0,Wn.get)(o,"reviewRate",0),c=(0,Wn.get)(o,"reviewComment","");return(0,r.jsx)(Ln.J9,{initialStatus:$n,initialValues:{rate:l,comment:c},initialTouched:{rate:null},enableReinitialize:!0,onSubmit:function(e){l||c?a(e):s(e)},children:function(i){var o=i.handleSubmit,s=i.values,a=i.status,l=i.setStatus,c=i.setFieldValue;return(0,r.jsxs)(Gn,{direction:{sm:"row"},spacing:{xs:"10px",sm:"24px"},sx:{alignItems:"center"},isError:a.type===Qn.MV,children:[(0,r.jsx)(dn.X,{as:"h2",level:"3",sx:{lineHeight:1},children:s.rate.toFixed(1)}),(0,r.jsx)("span",{children:e("mark",{keyPrefix:"reviews-tab"})}),(0,r.jsx)(Kn,{size:"large",icon:(0,r.jsx)(Vn,{}),emptyIcon:(0,r.jsx)(Un,{}),max:10,name:"rate",value:s.rate,onChange:function(e,r){"number"===typeof r&&(t?(c("rate",r),o(),a.type===Qn.MV&&l({type:Qn.Nk})):n())},isError:a.type===Qn.MV}),(0,r.jsx)("span",{className:"ratingLabel",children:e("fill-stars",{keyPrefix:"reviews-tab"})})]})}})},Jn=function(e){var t=e.isOpen,n=e.closeDrawer,i=e.deleteReview,o=(0,be.$G)("detail",{keyPrefix:"reviews-tab"}).t;return(0,r.jsxs)(pt.M,{open:t,onClose:n,children:[(0,r.jsx)(pt.J,{align:"center",children:o("delete")}),(0,r.jsx)(dt.tQ,{variant:"warning",sx:{marginBottom:{xs:"18px",sm:"24px"}},children:o("delete-warning")}),(0,r.jsxs)(_t.Z,{direction:{xs:"column",sm:"row"},spacing:1,children:[(0,r.jsx)(Te.zx,{variant:"primary",block:!0,onClick:i,"aria-label":o("yes"),children:o("yes")}),(0,r.jsx)(Te.zx,{variant:"secondary",block:!0,onClick:n,"aria-label":o("no"),children:o("no")})]})]})},Yn=n(98396),er=(0,E.ZP)("div")({display:"flex",flexDirection:"column",alignItems:"flex-start"}),tr=(0,E.ZP)(ft.Z)((function(e){var t=e.theme;return(0,de.Z)({display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",fontSize:"14px",fontWeight:500},t.breakpoints.up("sm"),{fontSize:"16px"})})),nr=function(e){var t=e.text,n=e.textProps,i=(0,a.Z)(e,["text","textProps"]);return(0,r.jsx)(er,(0,h.Z)((0,s.Z)({},i),{children:(0,r.jsx)(tr,(0,h.Z)((0,s.Z)({},n),{children:t}))}))};function rr(){return rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rr.apply(this,arguments)}var ir=function(e){return i.createElement("svg",rr({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),_n||(_n=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.525 3.496c.26 0 .475.215.475.49v.253c0 .267-.216.489-.475.489H2.476A.486.486 0 012 4.238v-.253c0-.274.216-.489.476-.489H4.42c.395 0 .738-.28.827-.677l.102-.454c.158-.62.679-1.031 1.275-1.031h2.753c.59 0 1.116.411 1.268.998l.109.487a.854.854 0 00.827.677h1.944zm-.988 9.26c.203-1.89.559-6.384.559-6.43a.497.497 0 00-.121-.371.484.484 0 00-.349-.156H3.38a.47.47 0 00-.349.156.527.527 0 00-.127.372l.036.431c.094 1.175.358 4.45.528 5.999.12 1.141.87 1.858 1.955 1.884.837.02 1.699.026 2.58.026.831 0 1.675-.006 2.538-.026 1.122-.019 1.87-.724 1.997-1.884z",fill:"#fff",opacity:.5})))},or=n(52882),sr=(0,E.ZP)("div",{shouldForwardProp:function(e){return"isMyReview"!==e&&"sx"!==e}})((function(e){var t,n=e.theme;return t={padding:e.isMyReview?"5px 14px 12px":"12px 14px",height:"230px",display:"flex",flexDirection:"column",borderRadius:"12px",backgroundColor:n.palette.grey2},(0,de.Z)(t,n.breakpoints.up("sm"),{padding:"16px"}),(0,de.Z)(t,n.breakpoints.up("lg"),{padding:"18px 20px"}),t})),ar=(0,E.ZP)("div")({display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"10px"}),lr=(0,E.ZP)(ft.Z)((function(e){return{fontSize:"18px",fontWeight:700,color:e.theme.palette.white}})),cr=(0,E.ZP)(Te.Av)((function(e){var t=e.theme;return{color:(0,Ie.Fq)(t.palette.white,.5),"&:hover":{color:t.palette.white}}})),ur=(0,E.ZP)(st.Z,{shouldForwardProp:function(e){return"top"!==e}})((function(e){var t=e.theme;return{width:"42px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"5px",backgroundColor:e.top?t.palette.green3:t.palette.grey6,fontSize:20,fontWeight:700}})),dr=(0,E.ZP)("div")((function(e){var t=e.theme;return(0,de.Z)({fontSize:"13px",fontWeight:500,color:(0,Ie.Fq)(t.palette.white,.5),marginTop:"auto"},t.breakpoints.up("sm"),{fontSize:"15px"})})),pr=(0,E.ZP)(Te.Av)((function(e){return{marginTop:"auto",marginRight:"auto",marginLeft:"3px",color:e.theme.palette.green3}})),hr=function(e){var t=e.review,n=e.isMyReview,o=e.onDeleteClick,l=e.onEditClick,c=e.handleOpenReviewModal,u=(0,a.Z)(e,["review","isMyReview","onDeleteClick","onEditClick","handleOpenReviewModal"]),d=t.reviewRate,p=t.reviewComment,m=void 0===p?"":p,f=t.updatedAt,x=t.user,v=(void 0===x?{}:x).email,g=(0,be.$G)("detail",{keyPrefix:"reviews-tab"}).t,w=(0,Yn.Z)((function(e){return e.breakpoints.down("sm")}));return null===m?null:(0,r.jsxs)(sr,(0,h.Z)((0,s.Z)({isMyReview:n},u),{children:[(0,r.jsxs)(ar,{children:[(0,r.jsxs)(_t.Z,{direction:"column",alignItems:"flex-start",spacing:"6px",children:[(0,r.jsx)(lr,{children:v}),(0,r.jsx)(dr,{children:f})]}),Boolean(d)&&(0,r.jsx)(ur,{top:d>5,children:d})]}),m&&(0,r.jsx)(nr,{text:m}),(0,r.jsxs)(_t.Z,{direction:"row",justifyContent:"flex-start",spacing:{xs:0,sm:2},mt:"auto",children:[(null===m||void 0===m?void 0:m.length)>150&&(0,r.jsx)(pr,{onClick:function(){return c(t)},children:g("read-more")}),n&&(w?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(Te.hU,{shape:"circle",size:"middle",icon:(0,r.jsx)(ir,{}),onClick:o}),(0,r.jsx)(Te.hU,{shape:"circle",size:"middle",icon:(0,r.jsx)(or.Z,{}),onClick:l})]}):(0,r.jsxs)(_t.Z,{ml:"auto",direction:"row",spacing:2,children:[(0,r.jsx)(cr,{onClick:o,children:g("delete")}),(0,r.jsx)(cr,{onClick:l,children:g("edit")})]}))]})]}))},mr=n(74231),fr=n(53933),xr={rate:0,comment:""},vr={type:Qn.Nk},gr=(0,E.ZP)(Te.zx)((function(e){var t=e.theme;return{"&:disabled":{backgroundColor:(0,Ie.Fq)(t.palette.white,.05)}}})),wr=function(e){var t=e.initialValues,n=void 0===t?xr:t,i=e.onSubmit,o=e.isEditing,s=(0,be.$G)(["detail","auth"]).t;return(0,r.jsx)(Ln.J9,{initialValues:n,initialStatus:vr,initialTouched:{comment:o},enableReinitialize:!0,validationSchema:mr.Ry({comment:mr.Z_().max(254,s("validation.max",{number:254,ns:"auth"}))}),onSubmit:function(e){i(e)},children:function(e){var t=e.handleSubmit,n=e.isSubmitting,i=e.dirty,a=n||!(i||o);return(0,r.jsxs)(st.Z,{as:"form",onSubmit:t,children:[(0,r.jsx)(dn.X,{as:"h2",level:"4",sx:{marginBottom:"5px"},children:s("leave-review",{keyPrefix:"reviews-tab"})}),(0,r.jsx)(fr.K$,{block:!0,placeholder:s("write-review",{keyPrefix:"reviews-tab"}),name:"comment",sx:{marginBottom:{xs:"12px",sm:"16px"}}}),(0,r.jsx)(gr,{type:"submit",block:!0,variant:a?"secondary":"primary",disabled:a,children:s("send",{keyPrefix:"reviews-tab"})})]})}})},jr=function(){var e,t=(0,be.$G)("detail",{keyPrefix:"reviews-tab"}).t,n=nn(),o=n.myReview,s=n.movieTitle,a=n.addReview,l=n.updateReview,c=n.deleteReview,u=n.isEditing,d=n.setIsEditing,p=n.isDeleteDrawerOpen,h=n.setIsDeleteDrawerOpen,m={rate:Zn()(o,"reviewRate",null),comment:null!==(e=Zn()(o,"reviewComment",""))&&void 0!==e?e:""};if(!o||!o.reviewComment)return(0,r.jsx)(wr,{movieTitle:s,onSubmit:yn()(o)?a:l,initialValues:m});if(u)return(0,r.jsx)(wr,{movieTitle:s,onSubmit:l,isEditing:u,initialValues:m});return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(_t.Z,{spacing:2,children:[(0,r.jsx)(dn.X,{as:"h2",level:"3",children:t("your-review")}),(0,r.jsx)(hr,{isMyReview:!0,review:o,onDeleteClick:function(){h(!0)},onEditClick:function(){d(!0)}})]}),(0,r.jsx)(Jn,{isOpen:p,closeDrawer:function(){h(!1)},deleteReview:c})]})},yr=n(25827),br=(0,E.ZP)(st.Z)((function(e){return{position:"absolute",maxWidth:"700px",top:"30%",left:"50%",transform:"translate(-50%, -50%)",padding:30,display:"flex",flexDirection:"column",backgroundColor:e.theme.palette.grey2,borderRadius:"12px"}})),Zr=(0,E.ZP)("div")({display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"25px"}),Ir=(0,E.ZP)(ft.Z)((function(e){return{fontSize:"18px",fontWeight:700,color:e.theme.palette.white}})),Pr=(0,E.ZP)("div")((function(e){var t=e.theme;return(0,de.Z)({fontSize:"13px",fontWeight:500,color:(0,Ie.Fq)(t.palette.white,.5),marginTop:"auto"},t.breakpoints.up("sm"),{fontSize:"15px"})})),Ar=(0,E.ZP)(st.Z,{shouldForwardProp:function(e){return"top"!==e}})((function(e){var t=e.theme;return{width:"42px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"5px",backgroundColor:e.top?t.palette.green3:t.palette.grey6,fontSize:20,fontWeight:700}})),Cr=(0,E.ZP)(ft.Z)((function(e){var t=e.theme;return(0,de.Z)({fontSize:"14px",fontWeight:500},t.breakpoints.up("sm"),{fontSize:"16px"})})),Sr=function(e){var t=e.open,n=e.onClose,i=e.review;if(!i)return null;var o=i.user,s=(void 0===o?{}:o).email,a=i.updatedAt,l=i.reviewRate,c=i.reviewComment;return(0,r.jsx)(yr.Z,{open:t,onClose:n,children:(0,r.jsxs)(br,{children:[(0,r.jsxs)(Zr,{children:[(0,r.jsxs)(_t.Z,{direction:"column",alignItems:"flex-start",spacing:"6px",children:[(0,r.jsx)(Ir,{children:s}),(0,r.jsx)(Pr,{children:a})]}),(0,r.jsx)(Ar,{top:l>5,children:l})]}),(0,r.jsx)(Cr,{children:c})]})})},kr="/_next/static/media/reviews-placeholder.5bbd4f83.png",Tr=(0,E.ZP)(_t.Z)((function(e){var t=e.theme;return(0,de.Z)({},t.breakpoints.up("lg"),{maxWidth:"840px"})})),Fr=(0,E.ZP)(_t.Z)((function(e){var t,n=e.theme;return t={fontSize:"18px",marginTop:"24px",marginBottom:"24px"},(0,de.Z)(t,n.breakpoints.down("sm"),{alignItems:"center",fontSize:"15px",textAlign:"center"}),(0,de.Z)(t,"div",{color:(0,Ie.Fq)(n.palette.white,.5)}),t})),Rr=function(){var e=en(),t=e.reviews,n=e.meta,o=e.page,s=e.setPage,a=e.openSignInDrawer,l=n.totalItems,c=n.totalPages,u=(0,be.$G)("detail",{keyPrefix:"reviews-tab"}).t,d=(0,j.O)().isAuthenticated,p=(0,i.useState)({isOpen:!1,review:null}),h=p[0],m=p[1],f=function(e){m({isOpen:!0,review:e})};return(0,r.jsxs)(_t.Z,{gap:{xs:2,sm:3},children:[(0,r.jsx)(Tr,{children:d?(0,r.jsx)(jr,{handleOpenReviewModal:f}):(0,r.jsxs)(Fr,{direction:{xs:"column",sm:"row"},spacing:1,children:[(0,r.jsx)("div",{children:u("authenticate-to-review")}),(0,r.jsx)(Te.Av,{variant:"primary",onClick:a,children:u("login")})]})}),(0,r.jsxs)(_t.Z,{direction:"row",spacing:1,sx:{alignItems:"center"},children:[(0,r.jsx)(dn.X,{as:"h2",level:"4",children:u("reviews")}),(0,r.jsx)(ke.T,{quantity:l})]}),t.length>0?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(ye.ZP,{container:!0,spacing:1,children:t.map((function(e){return(0,r.jsx)(ye.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,r.jsx)(hr,{as:"li",review:e,handleOpenReviewModal:f})},e.reviewId)}))}),(0,r.jsx)(at.t,{shouldScrollTop:!1,page:o,totalPages:c,onChange:s})]}):(0,r.jsx)("div",{children:(0,r.jsx)(Sn.V,{imageSrc:kr,text:u("placeholder"),alt:"Reviews placeholder",imageWrapperProps:{sx:{width:"100px"},aspectRatio:844/516},sx:{paddingTop:{xs:"24px",sm:"40px"},paddingBottom:{xs:"20px",sm:"40px"}}})}),(0,r.jsx)(Sr,{open:h.isOpen,review:h.review,onClose:function(){return m({isOpen:!1,review:null})}})]})},Er=function(){var e=(0,be.$G)("detail").t,t=cn(),n=t.isLightBoxOpen,i=t.snapshots,o=t.currentSlide,s=t.handleSnapshotClick;return 0===i.length?null:(0,r.jsxs)(st.Z,{sx:{display:{xs:"block",lg:"none"}},children:[(0,r.jsx)(An.s6,{titleProps:{text:e("snapshots")},slideAsGroup:!1,children:i.map((function(e){return(0,r.jsx)(Fe.Zb,{as:"div",sx:{cursor:"zoom-in"},onClick:function(){return s(e)},children:(0,r.jsx)(Fe.xu,{aspectRatio:16/9,src:e,alt:"snapshot",hasErrorHandler:!0,placeholderImage:mn})},e)}))}),(0,r.jsx)(sn(),{type:"image",toggler:n,sources:i,source:o},i)]})},zr=function(e){var t=(0,l.useRouter)(),n=t.query.movieId,r=(0,c.useQuery)(function(e,t){return["details","similar-content",String(e),t]}(n,t.locale),(function(){return u.g.fetchSimilarMovies({movieId:n})}),(0,s.Z)({staleTime:1/0},e)),i=r.data,o=void 0===i?[]:i,d=(0,a.Z)(r,["data"]);return(0,s.Z)({similarContent:o},d)},Or=n(61281),Mr=function(){var e=(0,be.$G)("detail").t,t=zr().similarContent;return 0===t.length?null:(0,r.jsx)(An.s6,{wrapperTag:"section",titleProps:{text:e("similar")},children:t.map((function(e){return(0,r.jsx)(Or.u,{movie:e},e.movieId)}))})},Br=function(){return function(){var e=(0,c.useQueryClient)(),t=(0,l.useRouter)().query.movieId;(0,Vt.Z)((function(){e.prefetchQuery(Yt(t,1),(function(){return $t.fetchList({movieId:t,page:1,itemsPerPage:8})}),{staleTime:1/0})}));var n=(0,j.O)().isAuthenticated;(0,Gt.Z)((function(){n&&e.prefetchQuery(tn(t),(function(){return $t.fetchMyReview({movieId:t})}),{staleTime:1/0})}),[n])}(),(0,rn.nw)().selectedProfile.isKidsMode?null:(0,r.jsxs)(_t.Z,{as:"section",sx:{marginBottom:{xs:"24px",sm:"40px"},marginTop:"24px"},gap:5,children:[(0,r.jsx)(Xn,{}),(0,r.jsx)(wn,{}),(0,r.jsx)(Er,{}),(0,r.jsx)(Bn,{}),(0,r.jsx)(Mr,{}),(0,r.jsx)(Rr,{})]})},Dr=function(){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(Nt,{}),(0,r.jsx)(o.Z,{fixed:!0,maxWidth:"xl",children:(0,r.jsx)(Br,{})})]})}},68426:function(e,t,n){n.d(t,{J:function(){return l},O:function(){return a}});var r=n(11163),i=n(67294),o=n(88767),s=n(95712),a=function(e){return["person-info",String(e)]},l=function(){var e=(0,r.useRouter)().query.personId,t=(0,o.useQuery)(a(e),(function(){return s.w.fetchInfo(e)}),{staleTime:1/0}).data,n=void 0===t?{}:t,l=n.personRoles,c=void 0===l?[]:l,u=(0,i.useState)(c[0]);return{personData:n,activeTab:u[0],setActiveTab:u[1]}}}}]);